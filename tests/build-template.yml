parameters:
- name: buildConfig
  type: string
  default: Release
- name: preSteps
  type: stepList
  default: []


steps:
- script: echo "Starting build process"
  displayName: Initialize Build

# Execute pre-build steps passed as parameter

- ${{ each step in parameters.preSteps }}:
  - ${{ step }}

- task: MSBuild@1
  displayName: Build Solution
  inputs:
    solution: '**/*.sln'
    configuration: ${{ parameters.buildConfig }}

- script: echo "Build completed"
  displayName: Finalize Build
